<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Import Data</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #ff6b35;
            margin-bottom: 20px;
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }
        .btn {
            background: #ff6b35;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        .btn:hover {
            background: #e85a2a;
        }
        .btn-secondary {
            background: #6c757d;
        }
        .btn-secondary:hover {
            background: #5a6268;
        }
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-bottom: 15px;
        }
        #status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }
        .step {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
            border-left: 4px solid #ff6b35;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¥ Simple Import Data</h1>
        
        <div class="info">
            <strong>ğŸ’¡ ì´ ë°©ë²•ì´ ê°€ì¥ í™•ì‹¤í•©ë‹ˆë‹¤!</strong><br>
            ë³µì¡í•œ íŒŒì‹± ì—†ì´ ì§ì ‘ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
        </div>

        <div class="step">
            <strong>1ë‹¨ê³„: GitHubì—ì„œ ë°ì´í„° ë³µì‚¬</strong><br>
            <ol>
                <li><a href="https://github.com/harhie/hillstone-presskit/blob/main/js/main.js" target="_blank">GitHub js/main.js ì—´ê¸°</a></li>
                <li><code>function getSampleData()</code> ì°¾ê¸°</li>
                <li><code>return [</code>ë¶€í„° <code>];</code>ê¹Œì§€ <strong>ë°°ì—´ ë¶€ë¶„ë§Œ</strong> ë³µì‚¬</li>
                <li>ì•„ë˜ í…ìŠ¤íŠ¸ ë°•ìŠ¤ì— ë¶™ì—¬ë„£ê¸°</li>
            </ol>
        </div>

        <textarea id="dataInput" placeholder="ì—¬ê¸°ì— GitHubì˜ getSampleData() í•¨ìˆ˜ì—ì„œ return [ ... ]; ë°°ì—´ ë¶€ë¶„ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.

ì˜ˆì‹œ:
[
    {
        id: '1',
        title: 'ê¸°ì‚¬ ì œëª©',
        category: 'article',
        date: '2024-01-01',
        source: 'ì¶œì²˜',
        summary: 'ìš”ì•½',
        link: 'https://...',
        image: '',
        images: []
    },
    ...
]"></textarea>

        <button class="btn" onclick="importData()">ğŸ“¥ Import to LocalStorage</button>
        <button class="btn btn-secondary" onclick="clearInput()">ğŸ—‘ï¸ Clear</button>
        
        <div id="status"></div>

        <div class="step" style="margin-top: 30px;">
            <strong>ğŸ¯ ë” ì‰¬ìš´ ë°©ë²•: ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì§ì ‘ ë³µì‚¬</strong><br>
            <ol>
                <li><code>newsroom-admin.html</code> ì—´ê¸°</li>
                <li>F12 ì½˜ì†”ì—ì„œ ì‹¤í–‰: <code>copy(localStorage.getItem('hillstone_press_items'))</code></li>
                <li><strong>ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ë‚˜ ê¸°ê¸°</strong>ì—ì„œ ì´ í˜ì´ì§€ ì—´ê¸°</li>
                <li>ìœ„ í…ìŠ¤íŠ¸ë°•ìŠ¤ì— ë¶™ì—¬ë„£ê¸°</li>
                <li>"Import to LocalStorage" í´ë¦­</li>
            </ol>
        </div>
    </div>

    <script>
        function clearInput() {
            document.getElementById('dataInput').value = '';
        }

        function importData() {
            const statusDiv = document.getElementById('status');
            const input = document.getElementById('dataInput').value.trim();

            if (!input) {
                statusDiv.innerHTML = '<div class="error">âŒ ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!</div>';
                return;
            }

            try {
                // ì…ë ¥ëœ ë°ì´í„° íŒŒì‹±
                let items;

                // JSON í˜•ì‹ì¸ì§€ í™•ì¸ (ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ë³µì‚¬í•œ ê²½ìš°)
                if (input.startsWith('[{') && input.includes('"id"')) {
                    // JSON.parse ì‹œë„
                    items = JSON.parse(input);
                } else {
                    // JavaScript ë°°ì—´ í˜•ì‹ (GitHubì—ì„œ ë³µì‚¬í•œ ê²½ìš°)
                    // Function ìƒì„±ìë¡œ ì•ˆì „í•˜ê²Œ íŒŒì‹±
                    const func = new Function('return ' + input);
                    items = func();
                }

                // ë°ì´í„° ê²€ì¦
                if (!Array.isArray(items)) {
                    throw new Error('ë°°ì—´ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤!');
                }

                if (items.length === 0) {
                    throw new Error('ë°ì´í„°ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤!');
                }

                // ì²« ë²ˆì§¸ í•­ëª© êµ¬ì¡° í™•ì¸
                const firstItem = items[0];
                if (!firstItem.id || !firstItem.title || !firstItem.category) {
                    throw new Error('ë°ì´í„° êµ¬ì¡°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤!');
                }

                // LocalStorageì— ì €ì¥
                localStorage.setItem('hillstone_press_items', JSON.stringify(items));

                statusDiv.innerHTML = `
                    <div class="success">
                        <strong>âœ… ì„±ê³µ!</strong><br>
                        <strong>${items.length}ê°œ</strong>ì˜ ê¸°ì‚¬ë¥¼ LocalStorageì— ì €ì¥í–ˆìŠµë‹ˆë‹¤!<br><br>
                        <strong>ë‹¤ìŒ ë‹¨ê³„:</strong><br>
                        1. <code>newsroom.html</code>ì„ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ í™•ì¸í•˜ì„¸ìš” (Ctrl+Shift+R)<br>
                        2. <code>newsroom-admin.html</code>ì—ì„œë„ í™•ì¸í•˜ì„¸ìš”<br>
                        3. ì „ì²´(${items.length}) í‘œì‹œë¥¼ í™•ì¸í•˜ì„¸ìš”<br><br>
                        <strong>ì¹´í…Œê³ ë¦¬ë³„ ê°œìˆ˜:</strong><br>
                        - ê¸°ì‚¬: ${items.filter(i => i.category === 'article').length}ê°œ<br>
                        - í•´ì™¸ê¸°ì‚¬: ${items.filter(i => i.category === 'foreign').length}ê°œ<br>
                        - ê³µì§€: ${items.filter(i => i.category === 'photo').length}ê°œ<br>
                        - ì˜ìƒ: ${items.filter(i => i.category === 'video').length}ê°œ
                    </div>
                `;

                // ì…ë ¥ì°½ ë¹„ìš°ê¸°
                clearInput();

            } catch (error) {
                console.error('Error:', error);
                statusDiv.innerHTML = `
                    <div class="error">
                        <strong>âŒ íŒŒì‹± ì‹¤íŒ¨!</strong><br>
                        ${error.message}<br><br>
                        <strong>í•´ê²° ë°©ë²•:</strong><br>
                        1. GitHubì—ì„œ <strong>ë°°ì—´ ë¶€ë¶„ë§Œ</strong> ë³µì‚¬í–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”<br>
                        2. <code>[</code>ë¡œ ì‹œì‘í•˜ê³  <code>]</code>ë¡œ ëë‚˜ì•¼ í•©ë‹ˆë‹¤<br>
                        3. <code>function getSampleData()</code> ë¶€ë¶„ì€ ì œì™¸í•˜ì„¸ìš”<br>
                        4. <code>return</code> í‚¤ì›Œë“œë„ ì œì™¸í•˜ì„¸ìš”<br><br>
                        <strong>ì½˜ì†”(F12)ì—ì„œ ìƒì„¸ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.</strong>
                    </div>
                `;
            }
        }

        // Ctrl+V ê°ì§€í•˜ì—¬ ìë™ í¬ë§·íŒ…
        document.getElementById('dataInput').addEventListener('paste', function(e) {
            setTimeout(() => {
                const value = this.value.trim();
                // return [ ... ] í˜•ì‹ì´ë©´ ë°°ì—´ ë¶€ë¶„ë§Œ ì¶”ì¶œ
                const match = value.match(/return\s*(\[[\s\S]*\])\s*;?/);
                if (match) {
                    this.value = match[1];
                }
            }, 100);
        });
    </script>
</body>
</html>
